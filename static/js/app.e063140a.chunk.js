(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{281:function(e,t,n){e.exports=n(399)},398:function(e){e.exports=JSON.parse("{}")},399:function(e,t,n){"use strict";n.r(t);var r=n(408),o=n(36),i=n(130),a=Object(i.b)({name:"info",initialState:{instructions:{},instructionTexts:{},floor:-10,index:-1,reply:null,message:null,dialogMessages:[]},reducers:{setInstructions:function(e,t){e.instructions=t.payload},setInstructionTexts:function(e,t){e.instructionTexts=t.payload},setIndex:function(e,t){e.index=t.payload},setReply:function(e,t){e.reply=t.payload},setMessage:function(e,t){e.message=t.payload},setFloor:function(e,t){e.floor=t.payload},setDialogMessages:function(e,t){e.dialogMessages=t.payload}}}),s=a.actions,c=s.setInstructions,l=s.setInstructionTexts,d=s.setIndex,u=(s.setReply,s.setMessage,s.setFloor),g=s.setDialogMessages,f=function(e){return e.info.instructions},j=function(e){return e.info.instructionTexts},m=function(e){return e.info.index},h=function(e){return e.info.dialogMessages},b=a.reducer,x=Object(i.b)({name:"map",initialState:{mapFloor:-100,floorArray:null,floorIndex:-1},reducers:{setMapFloor:function(e,t){console.log("\u5730\u5716\u7684\u6a13\u5c64\u8a2d\u5b9a\u70ba\u7b2c "+t.payload+" \u6a13"),e.mapFloor=t.payload},setFloorArray:function(e,t){e.floorArray=t.payload,t.payload.length>0&&console.log("\u5730\u5716\u7684\u6a13\u5c64\u6307\u5f15\u4f9d\u5e8f\u70ba "+t.payload)},setFloorIndex:function(e,t){e.floorIndex=t.payload}}}),p=function(e){return e.map.mapFloor},O=function(e){return e.map.floorArray},y=function(e){return e.map.floorIndex},S=x.actions,w=S.setMapFloor,v=S.setFloorArray,T=S.setFloorIndex,C=x.reducer,k=Object(i.a)({reducer:{info:b,map:C}}),_=n(406),M=n(407),L=n(7),R=n.n(L),A=n(9),D=n.n(A),H=n(0),z=n(11),E=n(92),B=n(15),P=n(107),I=n(31),N=n(113),V=n(8),W=n(28),X=n(48),J=n(161),F=n(72),G={primary:"#003153",white:"#fff",black:"#000",searchIcon:"#999",searchText:"#444",searchBackground:"#f0f0f0",title:"#000",subTitle:"#555",storyBorder:"#00f",description:"#9f9f9f",inputBackground:"#f0f0f0",inputText:"#000",messageBackground:"#1B5583",danger:"#df4759",success:"#4b0",light:"#ccc",halfOpacitySecondary:"rgba(240, 149, 17, 0.5)",halfOpacityPrimary:"rgba(0, 132, 255, 0.5)",storyBorder:"#00f"},Y=n(277),U=n(58),Z=n(6),K=z.a.create({onlineStatusContainer:{flexDirection:"row",paddingHorizontal:20},onlineStatus:{color:G.white,fontSize:16},statusImage:{height:5,width:5,borderRadius:32.5,alignSelf:"center",margin:3}}),$=function(e){return e.onlineStatus?Object(Z.jsxs)(V.a,{style:K.onlineStatusContainer,children:[Object(Z.jsx)(W.a,{style:K.onlineStatus,children:"Online"}),Object(Z.jsx)(U.a,{style:K.statusImage,source:{uri:"https://miro.medium.com/max/512/1*nZ9VwHTLxAfNCuCjYAkajg.png"}})]}):Object(Z.jsxs)(V.a,{style:K.onlineStatusContainer,children:[Object(Z.jsx)(W.a,{style:K.onlineStatus,children:"Offline"}),Object(Z.jsx)(U.a,{style:K.statusImage,source:{uri:"https://pngimage.net/wp-content/uploads/2018/06/rec-icon-png-5.png"}})]})},q=n(76),Q="iasl.asia.edu.tw",ee=function(){var e=new Date,t=e.getHours(),n=e.getMinutes();return t<10&&(t="0"+t.toString()),n<10&&(n="0"+n.toString()),[t,n]},te=function(e){var t="M";try{e.forEach((function(e,n){t+=0===n?e[0]+","+e[1]:"L"+e[0]+","+e[1]}))}catch(n){throw n}return t},ne=function(e,t){return{x:t.x-e.x,y:t.y-e.y}},re=function(e,t){return 180*Math.atan2(t,e)/Math.PI},oe=function(e,t){var n=t*Math.PI/180;return{x:e.x*Math.cos(n)-e.y*Math.sin(n),y:e.x*Math.sin(n)+e.y*Math.cos(n)}};J.a.ignoreLogs(["Non-serializable values were found in the navigation state"]);var ie=z.a.create({container:{flexDirection:"row",backgroundColor:G.primary,paddingTop:25,paddingBottom:10},backButton:{alignSelf:"center",paddingHorizontal:10},profileOptions:{flex:1,flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingHorizontal:10},profile:{flexDirection:"row",alignItems:"center",borderColor:"#fff",flex:4},image:{height:65,width:65,borderRadius:32.5},usernameAndOnlineStatus:{flexDirection:"row",justifyContent:"center",paddingHorizontal:10},usernameAndLocationName:{flexDirection:"column",paddingHorizontal:10},username:{color:G.white,fontSize:18,fontWeight:"bold"},locationName:{color:G.white,fontWeight:"bold",fontSize:16,paddingHorizontal:10},buttonsViewStyle:{flexDirection:"row"},options:{paddingHorizontal:6,paddingVertical:10,borderRadius:5,backgroundColor:"#68a0cf",marginHorizontal:5},mapButton:{color:"white"}}),ae=function(e){var t=e.botname,n=e.locationName,r=e.onlineStatus,i=e.sendJsonMessage,a=Object(q.k)(),s=Object(o.b)();return Object(Z.jsxs)(Y.a,{colors:["#C33764","#1D2671","#192f6a"],style:ie.container,children:[Object(Z.jsx)(X.a,{style:ie.backButton,children:Object(Z.jsx)(F.a,{name:"angle-left",size:30,color:G.white})}),Object(Z.jsxs)(V.a,{style:ie.profileOptions,children:[Object(Z.jsx)(X.a,{style:ie.profile,children:Object(Z.jsxs)(V.a,{style:ie.usernameAndLocationName,children:[Object(Z.jsxs)(V.a,{style:ie.usernameAndOnlineStatus,children:[Object(Z.jsx)(W.a,{style:ie.username,children:t}),Object(Z.jsx)($,{onlineStatus:r})]}),Object(Z.jsx)(V.a,{children:Object(Z.jsx)(W.a,{style:ie.locationName,children:n})})]})}),Object(Z.jsxs)(V.a,{style:ie.buttonsViewStyle,children:[Object(Z.jsx)(X.a,{style:ie.options,onPress:function(){return function(){var e=ee(),t=D()(e,2),n=t[0],r=t[1];i({author:"user",type:"text",message:"/done",time:n+":"+r}),s(g([])),s(l({})),s(w(-100)),s(v([]))}()},children:Object(Z.jsx)(W.a,{style:ie.mapButton,children:"\u91cd\u65b0\u5c0d\u8a71"})}),Object(Z.jsx)(X.a,{style:ie.options,onPress:function(){return a.navigate("MapNavigation",{sendJsonMessage:i})},children:Object(Z.jsx)(W.a,{style:ie.mapButton,children:"\u5730\u5716\u6a21\u5f0f"})})]})]})]})},se=n(117),ce=n(191),le=n(54),de=n.n(le),ue=z.a.create({container:{borderColor:"#9879e0",borderBottomWidth:1.5},messageView:{backgroundColor:"transparent",maxWidth:"100%"},Imagemessage:{alignSelf:"center"}}),ge=function(){var e=Object(H.useState)("https://"+Q+":809/static/image/03.jpeg"),t=D()(e,2),n=t[0],r=t[1],i=Object(H.useState)("M 0 0 L 0 0"),a=D()(i,2),s=a[0],c=a[1],l=Object(o.c)(f),d=Object(o.c)(p),u=Object(o.c)(m);return Object(H.useEffect)((function(){if(d>-100&&u>=0){var e=l[d.toString()];u>0&&(e=e.slice(u)),c(te(e)),r("https://"+Q+":809/static/image/0"+d+".jpeg")}else c("M 0 0 L 0 0"),r("https://"+Q+":809/static/image/iFG-cover.jpg")}),[d,u]),Object(Z.jsx)(V.a,{style:ue.container,children:Object(Z.jsx)(ce.a,{maxZoom:3,minZoom:1,zoomStep:.5,initialZoom:1,bindToBorders:!0,style:ue.messageView,children:Object(Z.jsx)(se.a,{source:{uri:n},style:[ue.Imagemessage,{width:409.6,height:222.8}],children:Object(Z.jsxs)(de.a,{width:409.6,height:222.8,viewBox:"0 0 1024 557",children:[Object(Z.jsxs)(le.Defs,{children:[Object(Z.jsx)(le.Marker,{id:"Triangle",viewBox:"0 0 10 10",refX:"0",refY:"5",markerUnits:"strokeWidth",markerWidth:"3",markerHeight:"3",orient:"auto",children:Object(Z.jsx)(le.Path,{d:"M 0 0 L 10 5 L 0 10 z",fill:"black",stroke:"red",strokeWidth:"1"})}),Object(Z.jsx)(le.Marker,{id:"startPoint",viewBox:"0 0 10 10",refX:"5",refY:"5",markerUnits:"strokeWidth",markerWidth:"3",markerHeight:"3",orient:"auto",children:Object(Z.jsx)(le.Circle,{cx:"5",cy:"5",r:"5",fill:"green"})}),Object(Z.jsx)(le.Marker,{id:"midPoint",viewBox:"0 0 10 10",refX:"5",refY:"5",markerUnits:"strokeWidth",markerWidth:"2",markerHeight:"2",orient:"auto",children:Object(Z.jsx)(le.Circle,{cx:"5",cy:"5",r:"5",fill:"grey"})})]}),Object(Z.jsx)(le.Path,{d:s,fill:"none",stroke:"black",strokeWidth:"10",markerStart:"url(#startPoint)",markerMid:"url(#midPoint)",markerEnd:"url(#Triangle)"})]})})})})},fe=n(18),je=n.n(fe),me=n(99),he=n(98),be=n(189),xe=n(119),pe=z.a.create({modalContainer:{backgroundColor:"white",paddingHorizontal:20,paddingVertical:20},modalHeader:{flexDirection:"row",alignItems:"center",marginBottom:12},modalPromptTextStyle:{marginLeft:10,marginRight:50},modalButtonStyle:{borderColor:"#dddddf",borderWidth:2,borderRadius:8,paddingVertical:10,paddingHorizontal:15},modalResultTextStyle:{color:"#2596be",fontSize:18}}),Oe=function(e){var t=e.webSpeechMiddleResult,n=e.stopRecording;return Object(Z.jsxs)(V.a,{style:pe.modalContainer,children:[Object(Z.jsxs)(V.a,{style:pe.modalHeader,children:[Object(Z.jsx)(F.a,{name:"microphone",size:32,color:G.danger}),Object(Z.jsx)(W.a,{style:pe.modalPromptTextStyle,children:"\u8fa8\u8b58\u4e2d\uff0c\u8acb\u8aaa\u8a71"}),Object(Z.jsx)(xe.a,{style:pe.modalButtonStyle,onPress:function(){return n()},children:Object(Z.jsx)(W.a,{children:"\u95dc\u9589"})})]}),Object(Z.jsx)(V.a,{children:Object(Z.jsx)(W.a,{style:pe.modalResultTextStyle,children:t})})]})};function ye(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Se(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var we=z.a.create({container:{justifyContent:"center",backgroundColor:G.white,position:"relative"},innerContainer:{paddingHorizontal:10,marginHorizontal:13,bottom:2,justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingVertical:1,height:70},inputAndMicrophone:{flexDirection:"row",backgroundColor:G.inputBackground,flex:3,marginRight:10,paddingVertical:"ios"===B.a.OS?10:0,borderRadius:30,alignItems:"center",justifyContent:"space-between"},input:{backgroundColor:"transparent",paddingLeft:20,margin:3,color:G.inputText,flex:2,fontSize:15,height:35,alignSelf:"center",justifyContent:"center"},rightIconButtonStyle:{justifyContent:"center",alignItems:"center",paddingRight:20,paddingLeft:10,borderLeftWidth:1,borderLeftColor:"#fff"},swipeToCancelView:{flexDirection:"row",alignItems:"center",marginRight:30},swipeText:{color:G.description,fontSize:15},emoticonButton:{justifyContent:"center",alignItems:"center",paddingLeft:10},recordingActive:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingLeft:10},recordingTime:{color:G.description,fontSize:20,marginLeft:5},microphoneAndLock:{alignItems:"center",justifyContent:"flex-end"},lockView:{backgroundColor:"#eee",width:60,alignItems:"center",borderTopLeftRadius:30,borderTopRightRadius:30,height:130,paddingTop:20},sendButton:{backgroundColor:G.primary,borderRadius:40,height:40,width:40,alignItems:"center",justifyContent:"center",paddingRight:2}}),ve=function(e){var t=e.online,n=e.sendJsonMessage,r=Object(o.b)(),i=Object(o.c)(h),a=Object(H.useState)(""),s=D()(a,2),c=s[0],d=s[1],u=Object(H.useState)(G.description),f=D()(u,2),j=f[0],m=f[1],b=Object(H.useState)(!1),x=D()(b,2),p=x[0],O=x[1],y=Object(H.useState)(""),S=D()(y,2),T=S[0],C=S[1],k=Object(H.useRef)(void 0),_=Object(H.useRef)("");Object(H.useEffect)((function(){"web"===B.a.OS&&("SpeechRecognition"in window||"webkitSpeechRecognition"in window?(console.log("speech recognition API supported"),k.current=new window.webkitSpeechRecognition,k.current.continuous=!0,k.current.interimResults=!0,k.current.lang="cmn-Hant-TW",k.current.onstart=function(){O(!0),m(G.danger),_.current=c},k.current.onend=function(){O(!1),m(G.description)},k.current.onresult=function(e){for(var t,n="",r="",o=ye(e.results);!(t=o()).done;){var i=t.value;i[0].confidence<1e-6||(i.isFinal?r+=i[0].transcript:n+=i[0].transcript)}C(n),d(_.current+r)},k.current.onerror=function(e){"not-allowed"===e.error&&(console.log("webkitSpeechRecognition event: onerror"),console.log(e))}):console.log("speech recognition API not supported"))}),[]);return Object(Z.jsx)(he.a,{behavior:"ios"===B.a.OS?"padding":"height",style:we.container,children:Object(Z.jsxs)(V.a,{style:we.innerContainer,children:[Object(Z.jsxs)(V.a,{style:we.inputAndMicrophone,children:[Object(Z.jsx)(me.a,{multiline:!0,placeholder:"Type something...",style:we.input,value:c,onChangeText:function(e){return d(e)}}),Object(Z.jsx)(X.a,{style:we.rightIconButtonStyle,onPress:function(){return je.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:"web"===B.a.OS&&k.current.start();case 1:case"end":return e.stop()}}),null,null,null,Promise)},children:Object(Z.jsx)(F.a,{name:"microphone",size:23,color:j})})]}),Object(Z.jsx)(X.a,{style:we.sendButton,disabled:!t,onPress:function(){if(""!==c){var e=ee(),t=D()(e,2),o=t[0],a=t[1],s={author:"user",type:"text",message:c,time:o+":"+a};n(s),"/done"!==c?r(g(i.concat(s))):(r(g([])),r(w(-100)),r(l({})),r(v([]))),d("")}},children:Object(Z.jsx)(F.a,{name:"send",size:23,color:G.white})}),Object(Z.jsx)(be.a,{isVisible:p,useNativeDriver:!0,backdropOpacity:.5,children:Object(Z.jsx)(Oe,{webSpeechMiddleResult:T,stopRecording:function(){return je.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:"web"===B.a.OS&&k.current.stop();case 1:case"end":return e.stop()}}),null,null,null,Promise)}})})]})})},Te=n(69),Ce=n(128),ke=n(38),_e=z.a.create({messageView:{backgroundColor:"transparent",maxWidth:"80%"},Textmessage:{color:"white",alignSelf:"flex-start",fontSize:15}}),Me=function(e){var t=e.messageContent,n=e.isOnLeft,r=e.messageType,o=e.isComplete;return Object(Z.jsx)(V.a,{style:_e.messageView,children:Object(Z.jsx)(W.a,{style:[_e.Textmessage,n(r),o?{color:"#d1d2de"}:{}],children:t})})},Le=n(137),Re=z.a.create({container:{paddingVertical:10,marginVertical:5},startText:{},messageContainer:{backgroundColor:"#1D2671",maxWidth:"90%",alignSelf:"flex-end",flexDirection:"row",borderRadius:15,paddingHorizontal:10,marginHorizontal:10,paddingTop:8,paddingBottom:8,shadowColor:"grey",shadowOpacity:.3,shadowOffset:{width:0,height:3},elevation:5},startmessageContainer:{maxWidth:"90%",alignSelf:"flex-end",flexDirection:"row",borderRadius:15,paddingHorizontal:10,marginHorizontal:10,paddingTop:8,paddingBottom:8,shadowColor:"grey",shadowOpacity:.3,shadowOffset:{width:0,height:3},elevation:5},timeView:{backgroundColor:"transparent",justifyContent:"flex-end",paddingLeft:10},time:{color:"lightgray",fontSize:10},iconContainer:{justifyContent:"center",alignItems:"center",fontSize:30},rightIconButtonStyle:{justifyContent:"center",alignItems:"center",paddingRight:20,paddingLeft:5},messageView:{backgroundColor:"transparent",maxWidth:"80%"},Textmessage:{color:"white",alignSelf:"flex-start",fontSize:15}}),Ae=function(e){var t=e.index,n=e.message,r=e.isOnLeft,i=e.floor,a=e.messageType,s=e.time,c=e.isLeft,l=Object(o.b)(),g=Object(o.c)(O),f=Object(o.c)(m),j=g.indexOf(Number(i)),h=Object(o.c)(y),b=ke.default.createAnimatedComponent(F.a),x=Object(ke.useSharedValue)(0),p=Object(ke.useAnimatedStyle)(function(){var e=function(){return{transform:[{translateX:x.value}]}};return e._closure={x:x},e.asString="function _f(){const{x}=jsThis._closure;{return{transform:[{translateX:x.value}]};}}",e.__workletHash=5278836605383,e.__location="D:\\ProgramingProject\\Deploy\\NavigatorApp-Expo\\components\\Message.InnerBox.jsx (36:33)",e.__optimalization=3,e}()),S=.2*-I.a.get("window").width,v=Object(ke.useAnimatedGestureHandler)({onActive:function(){var e=function(e,t){c&&(x.value=e.translationX)};return e._closure={isLeft:c,x:x},e.asString="function _f(event,ctx){const{isLeft,x}=jsThis._closure;{if(isLeft){x.value=event.translationX;}}}",e.__workletHash=8564512488414,e.__location="D:\\ProgramingProject\\Deploy\\NavigatorApp-Expo\\components\\Message.InnerBox.jsx (45:12)",e}(),onEnd:function(){var e=function(e,t){x.value<S&&Object(ke.runOnJS)(Le.a)(n),x.value=Object(ke.withTiming)(0)};return e._closure={x:x,TRANSLATE_X_THRESHOLD:S,runOnJS:ke.runOnJS,Speech:{speak:Le.a},message:n,withTiming:ke.withTiming},e.asString="function _f(event,ctx){const{x,TRANSLATE_X_THRESHOLD,runOnJS,Speech,message,withTiming}=jsThis._closure;{const shouldBeDismissed=x.value<TRANSLATE_X_THRESHOLD;if(shouldBeDismissed){runOnJS(Speech.speak)(message);}x.value=withTiming(0);}}",e.__workletHash=0xa80562bef85,e.__location="D:\\ProgramingProject\\Deploy\\NavigatorApp-Expo\\components\\Message.InnerBox.jsx (50:9)",e}()}),C=Object(ke.useAnimatedStyle)(function(){var e=function(){return{opacity:Object(ke.withTiming)((x.value,1))}};return e._closure={withTiming:ke.withTiming,x:x,TRANSLATE_X_THRESHOLD:S},e.asString="function _f(){const{withTiming,x,TRANSLATE_X_THRESHOLD}=jsThis._closure;{const opacity=withTiming(x.value<TRANSLATE_X_THRESHOLD?1:1);return{opacity:opacity};}}",e.__workletHash=6006327755949,e.__location="D:\\ProgramingProject\\Deploy\\NavigatorApp-Expo\\components\\Message.InnerBox.jsx (60:37)",e.__optimalization=2,e}());return Object(Z.jsx)(V.a,{style:[Re.container],children:Object(Z.jsx)(Ce.b,{onGestureEvent:v,onHandlerStateChange:function(e){e.nativeEvent.translationX>40&&(l(d(t)),l(u(i)),l(T(j)),l(w(i)),console.log("complete floor index, index and floor : ",j,t,i))},children:Object(Z.jsxs)(ke.default.View,{style:[Re.messageContainer,r("messageContainer"),p],children:[Object(Z.jsx)(Me,{messageContent:n,isOnLeft:r,messageType:a,isComplete:j<h||j==h&&t<f}),Object(Z.jsx)(V.a,{style:Re.timeView,children:Object(Z.jsx)(W.a,{style:[Re.time,r("time")],children:s})}),Object(Z.jsxs)(ke.default.View,{style:[Re.iconContainer,C],children:[Object(Z.jsx)(b,{name:"volume-up",color:G.description,style:{left:30}}),Object(Z.jsx)(b,{name:"long-arrow-left",color:G.description,style:{left:30}})]})]})})})},De=z.a.create({container:{paddingVertical:10,marginVertical:5},startText:{},messageContainer:{backgroundColor:"#1D2671",maxWidth:"90%",alignSelf:"flex-end",flexDirection:"row",borderRadius:15,paddingHorizontal:10,marginHorizontal:10,paddingTop:8,paddingBottom:8,shadowColor:"grey",shadowOpacity:.3,shadowOffset:{width:0,height:3},elevation:5},startmessageContainer:{maxWidth:"90%",alignSelf:"flex-end",flexDirection:"row",borderRadius:15,paddingHorizontal:10,marginHorizontal:10,paddingTop:8,paddingBottom:8,shadowColor:"grey",shadowOpacity:.3,shadowOffset:{width:0,height:3},elevation:5},timeView:{backgroundColor:"transparent",justifyContent:"flex-end",paddingLeft:10},time:{color:"lightgray",fontSize:10},iconContainer:{justifyContent:"center",alignItems:"center",fontSize:30},rightIconButtonStyle:{justifyContent:"center",alignItems:"center",paddingRight:20,paddingLeft:5},messageView:{backgroundColor:"transparent",maxWidth:"80%"},Textmessage:{color:"white",alignSelf:"flex-start",fontSize:15}}),He=function(e){var t=e.messageContent,n=e.isOnLeft,r=e.messageType,o=e.time,i=e.isLeft,a=e.floor,s=Object(H.useState)(!1),c=D()(s,2),l=c[0],d=c[1],u=Object(ke.useSharedValue)(0),g=t[0].subCategory,f=Object(ke.useAnimatedStyle)(function(){var e=function(){return{transform:[{translateX:u.value}]}};return e._closure={x:u},e.asString="function _f(){const{x}=jsThis._closure;{return{transform:[{translateX:x.value}]};}}",e.__workletHash=5278836605383,e.__location="D:\\ProgramingProject\\Deploy\\NavigatorApp-Expo\\components\\Message.Expandable.jsx (18:33)",e.__optimalization=3,e}());I.a.get("window").width;return Object(Z.jsxs)(V.a,{children:[Object(Z.jsx)(X.a,{onPress:function(){return d((function(e){return!e}))},children:Object(Z.jsx)(V.a,{style:[De.container],children:Object(Z.jsx)(ke.default.View,{style:f,children:Object(Z.jsx)(V.a,{style:[De.messageContainer,n("messageContainer")],children:Object(Z.jsxs)(W.a,{style:De.HeadText,children:[t[0].categoryName+"\u4e4b\u6307\u793a ",Object(Z.jsx)(F.a,{name:l?"arrow-up":"arrow-down",color:G.description,style:[{left:30}]})]})})})})}),l&&g.map((function(e,t){return Object(Z.jsx)(Ae,{index:e.index,message:e.name,isOnLeft:n,floor:a,messageType:r,time:o,isLeft:i},t)}))]})},ze=n(85),Ee=z.a.create({container:{flex:1,width:"100%"},tinyLogo:{width:20,height:20,margin:"auto",marginVertical:3,marginHorizontal:3,overflow:"hidden"},flatli:{backgroundColor:"white"},item:{backgroundColor:"#48b8e8",padding:10,borderRadius:15,marginVertical:10,marginHorizontal:6,display:"flex",flexDirection:"column"},title:{alignContent:"center",alignSelf:"center",justifyContent:"center",fontSize:20},titleView:{display:"flex",flexDirection:"row"}}),Be=function(e){var t=e.messageContent,n=e.isOnLeft,r=e.messageType,i=e.sendJsonMessage,a=e.optionRefDec,s=Object(o.b)(),c=Object(o.c)(h),l=function(e){var t=e.item,n=e.index;return Object(Z.jsx)(X.a,{onPress:function(){return function(e){var t=ee(),n=D()(t,2),o=n[0],a=n[1],l="";switch(r){case"option-START":l="\u6211\u5728";break;case"option-END":l="\u6211\u8981\u53bb";break;case"option-ask":l="\u6211\u7684\u5c0d\u9762\u662f"}var d=e,u={author:"user",message:d,time:o+":"+a,type:"text"};s(g(c.concat(u))),i(u={author:"user",message:d=l+d,time:o+":"+a,type:"text"})}(t)},style:[Ee.item],children:Object(Z.jsxs)(V.a,{children:[Object(Z.jsxs)(V.a,{style:[Ee.titleView],children:["option-options"!=r?Object(Z.jsx)(U.a,{style:Ee.tinyLogo,source:{uri:"https://appapi-tc.fg-retail.com.tw//Image/Upload/20210926/eee83edf-904a-471b-a421-4a37aa58cd52.jpg"}}):null,Object(Z.jsx)(W.a,{style:Ee.title,children:t})]}),void 0==a?null:Object(Z.jsx)(W.a,{style:Ee.title,children:a[n]})]})})};return Object(Z.jsx)(V.a,{style:[Ee.container,n("messageContainer")],children:Object(Z.jsx)(ze.a,{style:Ee.flatli,extraData:a,data:t,keyExtractor:function(e){return e},renderItem:function(e,t){return l(e)},horizontal:!0})})},Pe=z.a.create({container:{paddingVertical:10,marginVertical:5},messageContainer:{backgroundColor:"#1D2671",maxWidth:"90%",alignSelf:"flex-end",flexDirection:"row",borderRadius:15,paddingHorizontal:10,marginHorizontal:10,paddingTop:8,paddingBottom:8,shadowColor:"grey",shadowOpacity:.3,shadowOffset:{width:0,height:3},elevation:5},rightIconButtonStyle:{justifyContent:"center",alignItems:"center",paddingRight:20,paddingLeft:5}}),Ie=function(e){var t=e.isOnLeft,n=e.sendJsonMessage,r=Object(o.c)(j);return Object(Z.jsx)(V.a,{style:[Pe.container],children:Object(Z.jsx)(V.a,{style:[Pe.messageContainer,t("startmessageContainer")],children:Object(Z.jsx)(X.a,{style:Pe.rightIconButtonStyle,onPress:function(){if(!(Object.keys(r).length>0)){n({author:"user",message:"<:START:>",type:"text"})}},children:Object(Z.jsxs)(W.a,{style:{color:"white"},children:["START",Object(Z.jsx)(F.a,{name:"play",size:15,color:"white"})]})})})})},Ne=z.a.create({container:{paddingVertical:10,marginVertical:5},messageContainer:{backgroundColor:"#1D2671",maxWidth:"90%",alignSelf:"flex-end",flexDirection:"row",borderRadius:15,paddingHorizontal:10,marginHorizontal:10,paddingTop:8,paddingBottom:8,shadowColor:"grey",shadowOpacity:.3,shadowOffset:{width:0,height:3},elevation:5},timeView:{backgroundColor:"transparent",justifyContent:"flex-end",paddingLeft:10},time:{color:"lightgray",fontSize:10},iconContainer:{justifyContent:"center",alignItems:"center",fontSize:30}}),Ve=function(e){var t=e.time,n=e.isLeft,r=e.message,o=e.messageType,i=e.floor,a=(e.index,e.optionRefDec),s=(e.setScrollState,e.sendJsonMessage),c=Object(ke.useSharedValue)(0),l=Object(ke.useSharedValue)(12),d=ke.default.createAnimatedComponent(F.a),u=.2*-I.a.get("window").width,g=function(e){return n&&"messageContainer"===e?{alignSelf:"flex-start",backgroundColor:"#f0f0f0",borderTopLeftRadius:0}:n&&"startmessageContainer"===e?{alignSelf:"flex-start",backgroundColor:"#1B17E6",borderTopLeftRadius:0}:n&&"text"===e||n&&"instructiontext"===e?{color:"#000"}:n&&"time"===e?{color:"darkgray"}:{borderTopRightRadius:0}},f=Object(ke.useAnimatedGestureHandler)({onActive:function(){var e=function(e,t){n&&e.translationX<0&&(c.value=e.translationX,l.value=e.translationX)};return e._closure={isLeft:n,x:c,largerscale:l},e.asString="function _f(event,ctx){const{isLeft,x,largerscale}=jsThis._closure;{if(isLeft&&event.translationX<0){x.value=event.translationX;largerscale.value=event.translationX;}}}",e.__workletHash=0xd95d7ca07bd,e.__location="D:\\ProgramingProject\\Deploy\\NavigatorApp-Expo\\components\\Message.Main.jsx (68:12)",e}(),onEnd:function(){var e=function(e,t){c.value<u&&Object(ke.runOnJS)(Le.a)(r),c.value=Object(ke.withTiming)(0),l.value=Object(ke.withTiming)(0)};return e._closure={x:c,TRANSLATE_X_THRESHOLD:u,runOnJS:ke.runOnJS,Speech:{speak:Le.a},message:r,withTiming:ke.withTiming,largerscale:l},e.asString="function _f(event,ctx){const{x,TRANSLATE_X_THRESHOLD,runOnJS,Speech,message,withTiming,largerscale}=jsThis._closure;{const shouldBeDismissed=x.value<TRANSLATE_X_THRESHOLD;if(shouldBeDismissed){runOnJS(Speech.speak)(message);}x.value=withTiming(0);largerscale.value=withTiming(0);}}",e.__workletHash=3111948069289,e.__location="D:\\ProgramingProject\\Deploy\\NavigatorApp-Expo\\components\\Message.Main.jsx (74:9)",e}()}),j=Object(ke.useAnimatedStyle)(function(){var e=function(){return{opacity:Object(ke.withTiming)((c.value,1))}};return e._closure={withTiming:ke.withTiming,x:c,TRANSLATE_X_THRESHOLD:u},e.asString="function _f(){const{withTiming,x,TRANSLATE_X_THRESHOLD}=jsThis._closure;{const opacity=withTiming(x.value<TRANSLATE_X_THRESHOLD?1:1);return{opacity:opacity};}}",e.__workletHash=6006327755949,e.__location="D:\\ProgramingProject\\Deploy\\NavigatorApp-Expo\\components\\Message.Main.jsx (87:37)",e.__optimalization=2,e}()),m=Object(ke.useAnimatedStyle)(function(){var e=function(){return{transform:[{translateX:c.value}]}};return e._closure={x:c},e.asString="function _f(){const{x}=jsThis._closure;{return{transform:[{translateX:x.value}]};}}",e.__workletHash=5278836605383,e.__location="D:\\ProgramingProject\\Deploy\\NavigatorApp-Expo\\components\\Message.Main.jsx (96:30)",e.__optimalization=3,e}()),h=Object(ke.useAnimatedStyle)(function(){var e=function(){return{fontSize:Object(ke.withTiming)(l.value<u?20:12)}};return e._closure={withTiming:ke.withTiming,largerscale:l,TRANSLATE_X_THRESHOLD:u},e.asString="function _f(){const{withTiming,largerscale,TRANSLATE_X_THRESHOLD}=jsThis._closure;{const fontSize=withTiming(largerscale.value<TRANSLATE_X_THRESHOLD?20:12);return{fontSize:fontSize};}}",e.__workletHash=5166484404867,e.__location="D:\\ProgramingProject\\Deploy\\NavigatorApp-Expo\\components\\Message.Main.jsx (102:34)",e.__optimalization=2,e}());switch(o){case"state":return Object(Z.jsx)(Ie,{isOnLeft:g,sendJsonMessage:s});case"option-START":case"option-END":case"option-ASK":return Object(Z.jsx)(Be,{messageContent:r,isOnLeft:g,messageType:o,sendJsonMessage:s,optionRefDec:a});case"option-options":return Object(Z.jsx)(Be,{messageContent:r,isOnLeft:g,messageType:o,sendJsonMessage:s});case"instructiontext":return Object(Z.jsx)(He,{messageContent:r,isOnLeft:g,messageType:o,time:t,isLeft:n,floor:i});case"text":return Object(Z.jsx)(V.a,{style:[Ne.container],children:Object(Z.jsx)(Ce.b,{onGestureEvent:f,children:Object(Z.jsx)(ke.default.View,{style:m,children:Object(Z.jsxs)(V.a,{style:[Ne.messageContainer,g("messageContainer")],children:[Object(Z.jsx)(Me,{isOnLeft:g,messageType:o,messageContent:r,isComplete:!1}),Object(Z.jsx)(V.a,{style:Ne.timeView,children:Object(Z.jsx)(W.a,{style:[Ne.time,g("time")],children:t})}),Object(Z.jsxs)(ke.default.View,{style:[Ne.iconContainer,j],children:[Object(Z.jsx)(d,{name:"volume-up",color:G.description,style:[{left:30},h]}),Object(Z.jsx)(d,{name:"long-arrow-left",color:G.description,style:[{left:30},h]})]})]})})})});case"image":return Object(Z.jsx)(V.a,{})}},We=function(e){var t=e.sendJsonMessage,n=Object(H.useRef)("user"),r=Object(H.useRef)(),i=Object(H.useState)(!0),a=D()(i,2),s=a[0],c=a[1],l=Object(o.b)(),u=Object(o.c)(h),g=Object(o.c)(f),j=Object(o.c)(p),m=Object(o.c)(y);return Object(H.useEffect)((function(){for(var e=[],t=0,n=u.length;t<n;++t){var r=u[t];if("image"===r.type){var o=Number(r.floor);e.push(o),-100==j&&(l(w(o)),l(d(0)))}}e.length>0&&-1==m&&l(T(0)),l(v(e))}),[g]),Object(Z.jsx)(Te.a,{style:{backgroundColor:G.white,flex:1},ref:r,onContentSizeChange:function(){r.current.scrollToEnd({animated:!0})},scrollEnabled:s,children:Object(Z.jsx)(he.a,{behavior:B.a&&"ios"===B.a.OS?"padding":"height",style:{flex:1},children:Object(Z.jsx)(Ce.a,{children:u.map((function(e,r){return void 0!=e.author?Object(Z.jsx)(Ve,{time:e.time,isLeft:e.author!==n.current,message:e.message,messageType:e.type,floor:e.floor,index:e.index,optionRefDec:e.optionRefDec,setScrollState:c,sendJsonMessage:t},r):null}))})})})};function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){R()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fe=I.a.get("window"),Ge=I.a.get("screen"),Ye=z.a.create({crossPlatformContainer:{flex:1,paddingTop:(B.a.OS,0)}}),Ue=function(e){e.navigation;var t,n=Object(H.useState)("Indoor Navigation"),r=D()(n,2),i=r[0],a=(r[1],Object(H.useState)("wss://"+Q+":808/websocket")),s=D()(a,2),d=s[0],u=(s[1],Object(H.useState)(!1)),m=D()(u,2),b=m[0],x=m[1],p=Object(o.b)(),O=Object(o.c)(f),y=Object(o.c)(j),S=Object(o.c)(h),w=Object(N.b)(d,{onOpen:function(){console.log("connected"),x(!0)},onError:function(e){console.log("[CHATBOTIASL][ERROR][WEBSOCKET]:",e)},shouldReconnect:function(e){return!0},reconnectAttempts:30,reconnectInterval:3e3}),v=w.sendJsonMessage,T=w.lastJsonMessage,C=w.readyState,k=(t={},R()(t,N.a.CONNECTING,"Connecting"),R()(t,N.a.OPEN,"Open"),R()(t,N.a.CLOSING,"Closing"),R()(t,N.a.CLOSED,"Closed"),R()(t,N.a.UNINSTANTIATED,"Uninstantiated"),t)[C],_=Object(H.useState)({window:Fe,screen:Ge}),M=D()(_,2),L=M[0],A=M[1];return Object(H.useEffect)((function(){x("Open"===k)}),[k]),Object(H.useEffect)((function(){if("web"!=B.a.OS&&console.log("message : ",T),null!==T&&T!=={}){if(void 0!==T.instructions){try{var e=Je(Je({},O),T.instructions);p(c(e))}catch(n){}if("instructiontext"===T.type){var t=JSON.parse(JSON.stringify(y));t[T.floor]=T.message[0],p(l(t))}}p(g(S.concat(T)))}}),[T]),Object(H.useEffect)((function(){console.log("Your platform :",B.a.OS);var e=I.a.addEventListener("change",(function(e){var t=e.window,n=e.screen;A({window:t,screen:n})}));return function(){return null==e?void 0:e.remove()}}),[]),"web"===B.a.OS?Object(Z.jsxs)(P.a,{style:{height:L.window.height-5},children:[Object(Z.jsx)(ae,{botname:i,locationName:"\u9060\u96c4\u5ee3\u5834",onlineStatus:b,sendJsonMessage:v}),Object(Z.jsx)(ge,{}),Object(Z.jsx)(We,{sendJsonMessage:v}),Object(Z.jsx)(ve,{online:b,sendJsonMessage:v})]}):Object(Z.jsxs)(P.a,{style:Ye.crossPlatformContainer,children:[Object(Z.jsx)(E.a,{backgroundColor:"#b3e6ff",barStyle:"dark-content"}),Object(Z.jsx)(ae,{botname:i,locationName:"\u9060\u96c4\u5ee3\u5834",onlineStatus:b,sendJsonMessage:v}),Object(Z.jsx)(ge,{}),Object(Z.jsx)(We,{sendJsonMessage:v}),Object(Z.jsx)(ve,{online:b,sendJsonMessage:v})]})},Ze=n(166),Ke=n(279),$e=z.a.create({crossPlatformContainer:{flex:1,paddingTop:(B.a.OS,0)},headerContainer:{alignSelf:"stretch",flexDirection:"row",justifyContent:"space-between"},bodyContainer:{flexGrow:1,backgroundColor:"#EAF0F2"},bottomContainer:{marginHorizontal:0,backgroundColor:"red"},goBackBotton:{flexGrow:1},calibrationButtonViewStyle:{backgroundColor:"white",flexGrow:1},calibrationButtonTextStyle:{color:"black",textAlign:"center"},stopButtonViewStyle:{backgroundColor:"#e6658c",flexGrow:1,justifyContent:"center"},bgImageStyle:{alignSelf:"center"},guideContainer:{backgroundColor:"#198039",paddingVertical:12,paddingHorizontal:15},mainTextStyle:{color:"white",fontSize:18,fontWeight:"500"},multiColumnContaner:{flexDirection:"row",justifyContent:"space-between"},subKeywordViewContainer:{width:86,backgroundColor:"#eff2d7",paddingVertical:10,paddingHorizontal:15,justifyContent:"center"},subKeywordStyle:{textAlign:"center",fontSize:16},subTextViewContainer:{justifyContent:"center",paddingHorizontal:10,backgroundColor:"#d7f3da",flexGrow:1,flexShrink:1},subTextStyle:{fontSize:15,textAlign:"center"},paginationButtonContainer:{flexGrow:1,backgroundColor:"#0d662e"},buttonTextStyle:{paddingVertical:10,textAlign:"center",fontSize:14,color:"white",fontWeight:"500"},modalViewContainer:{justifyContent:"space-between",backgroundColor:"white",height:120,borderRadius:10,padding:15},modalTextStyle:{fontSize:20,textAlign:"center"},modalYesButtonStyle:{color:"#4584fc",paddingHorizontal:18,fontSize:16},modalNoButtonStyle:{color:"#858585",paddingHorizontal:18,fontSize:16}}),qe=function(e){var t=e.route,n=e.navigation,r=t.params.sendJsonMessage,i=Object(o.b)(),a=Object(o.c)(f),s=Object(o.c)(p),c=Object(o.c)(j),u=Object(o.c)(m),h=Object(o.c)(O),b=Object(o.c)(y),x=function(e,t,n){if(e<0)return 0==n&&0==t?{flag:!1,result:[]}:0!=n?{flag:!0,result:[{index:n-1}]}:{flag:!0,result:[{floor:t-1},{index:c[h[t-1]].subCategory.length-1}]};var r=c[h[t]].subCategory;return t==h.length-1&&n==r.length-1?{flag:!1,result:[]}:n<r.length-1?{flag:!0,result:[{index:n+1}]}:{flag:!0,result:[{index:0},{floor:t+1}]}},S=function(){return h.length>0&&-1!==u},C=function(e,t){if(!S())return"";var n=x(1,e,t);if(n.flag){var r=e,o=t;return n.result.forEach((function(e){void 0!==e.index?o=e.index:r=e.floor})),c[h[r]].subCategory[o].name}return"(\u5df2\u5b8c\u6210)"},k=Object(H.useState)(C(b,u)),_=D()(k,2),M=_[0],L=_[1],R=function(e){var t=x(e,b,u);if(t.flag){var n=b,r=u;t.result.forEach((function(e){void 0!==e.index?(r=e.index,i(d(e.index))):(n=e.floor,i(T(e.floor)),i(w(h[e.floor])))})),L(C(n,r))}else e>0&&(Pe("\u4f60\u5df2\u5b8c\u6210\u5c0e\u822a\u8def\u5f91\uff0c\u78ba\u5b9a\u8981\u7d50\u675f\u55ce?"),He(!0))},A=Object(H.useState)("https://"+Q+":809/static/image/03.jpeg"),z=D()(A,2),E=z[0],B=z[1],I=Object(H.useState)("M 0 0 L 0 0"),N=D()(I,2),J=N[0],F=N[1],G=Object(H.useState)("M 0 0 L 0 0"),Y=D()(G,2),U=Y[0],K=Y[1],$=Object(H.useState)("M 0 0 L 0 0"),q=D()($,2),ie=q[0],ae=q[1],ue=Object(H.useRef)(),ge=Object(H.useRef)(4),fe={x:512,y:278.5},je={x:512,y:378.5},me=Object(H.useRef)(je),he=Object(H.useState)(0),xe=D()(he,2),pe=xe[0],Oe=xe[1],ye=function(e){return[e.x/2.5*4,e.y/2.5*4]},Se={x:0,y:0},we=Object(H.useState)({x:0,y:0}),ve=D()(we,2),Te=(ve[0],ve[1],Object(H.useRef)({x:0,y:0})),Ce=Object(H.useRef)({x:0,y:0}),ke=function(e){var t=e-pe,n=function(e,t,n){var r={x:e.x-t.x,y:e.y-t.y},o=oe(r,n);return{x:t.x+o.x,y:t.y+o.y}}(me.current,fe,-t);me.current={x:n.x,y:n.y}},_e=function(e,t){var n,r=-(re(t.x-e.x,t.y-e.y)+90);return Oe(n=r),ke(n),r},Me=function(e){var t=_e(e[u],e[u+1]),n=ne(me.current,e[u]),r=oe(n,t),o=ye(r),i=D()(o,2),a=i[0],s=i[1];ue.current.moveBy(a,s),Se=e[u],me.current={x:Se.x,y:Se.y},Te.current={x:Te.current.x+a,y:Te.current.y+s},Ce.current=Te.current},Le=function(e,t){if(!1!==t||u!=e.length-1)if(4!==ge.current)ue.current.zoomTo(4),setTimeout((function(){var n={x:-(Ce.current.x-Te.current.x),y:-(Ce.current.y-Te.current.y)};ue.current.moveBy(n.x,n.y),ge.current=4,Ce.current=Te.current,!1===t&&Me(e)}),1200);else if(Ce.current!==Te.current){var n={x:-(Ce.current.x-Te.current.x),y:-(Ce.current.y-Te.current.y)};ue.current.moveBy(n.x,n.y),Ce.current=Te.current,!1===t&&Me(e)}else!1===t&&Me(e);else console.log("\u5230\u6700\u5f8c\u4e00\u9ede\u4e86")};Object(H.useEffect)((function(){if(s>-100&&u>=0){var e,t=a[s.toString()],n=function(e){var t=[];return e.forEach((function(e){t.push({x:e[0],y:e[1]})})),t}(t),r=[],o=[];r=u+2<=t.length?t.slice(u,u+2):t.slice(u,u+1),u+1<t.length&&(o=t.slice(u+1)),e=t.slice(0,u+1),ae(te(e)),F(te(r)),K(te(o)),B("https://"+Q+":809/static/image/0"+s+".jpeg"),Le(n,!1)}else K("M 0 0 L 0 0"),B("https://"+Q+":809/static/image/iFG-cover.jpg")}),[s,u]);var Re=Object(H.useState)(!1),Ae=D()(Re,2),De=Ae[0],He=Ae[1],ze=Object(H.useState)("\u4f60\u5df2\u5b8c\u6210\u5c0e\u822a\u8def\u5f91\uff0c\u78ba\u5b9a\u8981\u7d50\u675f\u55ce?"),Ee=D()(ze,2),Be=Ee[0],Pe=Ee[1];return Object(Z.jsxs)(P.a,{style:$e.crossPlatformContainer,children:[Object(Z.jsxs)(V.a,{style:$e.headerContainer,children:[Object(Z.jsx)(Ze.a,{style:$e.goBackView,title:"\u56de\u5230\u5c0d\u8a71\u6a21\u5f0f",onPress:function(){return n.goBack()}}),Object(Z.jsx)(X.a,{style:$e.calibrationButtonViewStyle,onPress:function(){Le(void 0,!0)},children:Object(Z.jsxs)(W.a,{style:$e.calibrationButtonTextStyle,children:["\u5b9a\u4f4d\u56de\u5c0e\u822a\u9ede",Object(Z.jsx)(Ke.a,{name:"crosshairs-gps",color:"black",size:25})]})}),Object(Z.jsx)(X.a,{style:$e.stopButtonViewStyle,onPress:function(){return Pe("\u4f60\u9084\u672a\u5230\u9054\u76ee\u7684\u5730\uff0c\u78ba\u5b9a\u8981\u7d50\u675f\u55ce?"),void He(!0)},children:Object(Z.jsx)(W.a,{style:$e.calibrationButtonTextStyle,children:"\u7d50\u675f"})})]}),Object(Z.jsx)(V.a,{style:$e.bodyContainer,children:Object(Z.jsx)(ce.a,{maxZoom:10,minZoom:1,zoomStep:.5,initialZoom:4,bindToBorders:!1,onTransform:function(e){ge.current=e.zoomLevel,Ce.current={x:-e.offsetX*e.zoomLevel,y:-e.offsetY*e.zoomLevel}},ref:ue,children:Object(Z.jsx)(se.a,{source:{uri:E},style:[$e.bgImageStyle,{width:409.6,height:222.8,transform:[{rotate:pe+"deg"},{translateX:0}]}],children:Object(Z.jsxs)(de.a,{width:409.6,height:222.8,viewBox:"0 0 1024 557",children:[Object(Z.jsxs)(le.Defs,{children:[Object(Z.jsx)(le.Marker,{id:"MapModeTriangle",viewBox:"0 0 10 10",refX:"0",refY:"5",markerUnits:"strokeWidth",markerWidth:"3",markerHeight:"3",orient:"auto",children:Object(Z.jsx)(le.Path,{d:"M 0 0 L 10 5 L 0 10 z",fill:"black",stroke:"red",strokeWidth:"1"})}),Object(Z.jsx)(le.Marker,{id:"MapModestartPoint",viewBox:"0 0 10 10",refX:"5",refY:"5",markerUnits:"strokeWidth",markerWidth:"3",markerHeight:"3",orient:"auto",children:Object(Z.jsx)(le.Circle,{cx:"5",cy:"5",r:"8",fill:"green"})}),Object(Z.jsx)(le.Marker,{id:"MapModemidPoint",viewBox:"0 0 10 10",refX:"5",refY:"5",markerUnits:"strokeWidth",markerWidth:"2",markerHeight:"2",orient:"auto",children:Object(Z.jsx)(le.Circle,{cx:"5",cy:"5",r:"8",fill:"grey"})})]}),Object(Z.jsx)(le.Path,{d:ie,fill:"none",stroke:"#333538",strokeWidth:"5",strokeDasharray:"8,8",markerStart:"url(#MapModemidPoint)",markerMid:"url(#MapModemidPoint)",markerEnd:"url(#MapModemidPoint)"}),Object(Z.jsx)(le.Path,{d:J,fill:"none",stroke:"#ff3333",strokeWidth:"5",markerStart:"url(#MapModestartPoint)",markerMid:"url(#MapModemidPoint)",markerEnd:"url(#MapModemidPoint)"}),Object(Z.jsx)(le.Path,{d:U,fill:"none",stroke:"#7a5252",strokeWidth:"5",markerStart:"url(#MapModemidPoint)",markerMid:"url(#MapModemidPoint)",markerEnd:"url(#MapModeTriangle)"})]})})})}),S()?Object(Z.jsxs)(V.a,{style:$e.bottomContainer,children:[Object(Z.jsx)(V.a,{style:$e.guideContainer,children:Object(Z.jsx)(W.a,{style:$e.mainTextStyle,children:c[h[b]].subCategory[u].name})}),Object(Z.jsxs)(V.a,{style:[$e.multiColumnContaner],children:[Object(Z.jsx)(V.a,{style:$e.subKeywordViewContainer,children:Object(Z.jsx)(W.a,{style:$e.subKeywordStyle,children:"\u63a5\u4e0b\u4f86"})}),Object(Z.jsx)(V.a,{style:$e.subTextViewContainer,children:Object(Z.jsx)(W.a,{style:$e.subTextStyle,children:M})})]}),Object(Z.jsxs)(V.a,{style:$e.multiColumnContaner,children:[Object(Z.jsx)(X.a,{style:[$e.paginationButtonContainer,{borderRightColor:"white",borderRightWidth:.5}],onPress:function(){return R(-1)},children:Object(Z.jsx)(W.a,{style:$e.buttonTextStyle,children:"\u4e0a\u4e00\u6b65"})}),Object(Z.jsx)(X.a,{style:[$e.paginationButtonContainer,{borderLeftColor:"white",borderLeftWidth:.5}],onPress:function(){return R(1)},children:Object(Z.jsx)(W.a,{style:$e.buttonTextStyle,children:"\u4e0b\u4e00\u6b65"})})]})]}):Object(Z.jsx)(V.a,{style:$e.bottomContainer}),Object(Z.jsx)(be.a,{isVisible:De,children:Object(Z.jsxs)(V.a,{style:$e.modalViewContainer,children:[Object(Z.jsx)(W.a,{style:$e.modalTextStyle,children:Be}),Object(Z.jsxs)(V.a,{style:{flexDirection:"row",justifyContent:"flex-end"},children:[Object(Z.jsx)(X.a,{onPress:function(){He(!1),n.navigate("ChatBot");var e=ee(),t=D()(e,2),o=t[0],a=t[1];r({author:"user",type:"text",message:"/done",time:o+":"+a}),i(g([])),i(l({})),i(w(-100)),i(v([]))},children:Object(Z.jsx)(W.a,{style:$e.modalYesButtonStyle,children:"\u662f"})}),Object(Z.jsx)(X.a,{onPress:function(){He(!1)},children:Object(Z.jsx)(W.a,{style:$e.modalNoButtonStyle,children:"\u5426"})})]})]})})]})},Qe=Object(M.a)();function et(){return Object(Z.jsxs)(Qe.Navigator,{initialRouteName:"ChatBot",screenOptions:function(e){e.route,e.navigation;return{headerShown:!1,gestureEnabled:!0}},children:[Object(Z.jsx)(Qe.Screen,{name:"ChatBot",component:Ue}),Object(Z.jsx)(Qe.Screen,{name:"MapNavigation",component:qe})]})}n(398);Object(r.a)((function(){return Object(Z.jsx)(o.a,{store:k,children:Object(Z.jsx)(_.a,{children:Object(Z.jsx)(et,{})})})}))}},[[281,1,2]]]);
//# sourceMappingURL=app.e063140a.chunk.js.map